WASHINGTON —  President Obama and President Xi Jinping of China took their first concrete steps on Friday toward reining in the rising threat of cyberattacks between the world’s two largest economies, pledging that their governments would refrain from computer-enabled theft of intellectual property for commercial gain even as Mr. Obama suggested that he might still impose sanctions if rampant Chinese hacking persisted.With Mr. Xi standing beside him at a Rose Garden news conference, Mr. Obama said the two had reached a “common understanding” that neither the United States nor China should engage in state-sponsored cyberintrusions to poach intellectual property, and that they would together seek “international rules of the road for appropriate conduct in cyberspace.”But Mr. Obama said that he had told the Chinese president during two hours of meetings at the White House that the escalating cycle of cyberattacks against American targets “has to stop,” warning Mr. Xi that the United States would go after and punish perpetrators of those offenses through traditional law enforcement tools and, potentially, with sanctions.“The question now is, ‘Are words followed by actions?’ ”Mr. Obama said of China’s commitments on cyberthreats. “And we will be watching carefully to make an assessment as to whether progress has been made in this area.”It was the third set of meetings between Mr. Obama and Mr. Xi in the last three years, and it came at a potential pivot point in United States-China relations, with the Obama administration determined to find areas where it can cooperate with Beijing but increasingly wary of its behavior. Besides their meeting at the White House, the two presidents spent more than two and a half hours together Thursday night at a private dinner at Blair House, across from the White House.At their news conference, both Mr. Obama and Mr. Xi made an effort to demonstrate that they had made progress on curbing cyberattacks, even as they skirted direct references to some of the most contentious issues, including the United States’ claim that China was behind the theft of security dossiers on roughly 22 million Americans from the Office of Personnel Management.“Confrontation and friction are not the right choice,” Mr. Xi said. “Confrontation will lead to losses on both sides.”The pledge on cybersecurity — a hard-fought and not entirely expected bit of progress that was still under negotiation until the final hours before the two presidents met — came as Mr. Obama and Mr. Xi sought to spotlight their cooperation on the world stage.They hailed progress on climate change, with Mr. Xi announcing a new commitment to start a national cap-and-trade system in 2017 to curb greenhouse gas emissions, and both countries outlining ambitious goals for reaching a global climate pact at a December summit meeting in Paris, including winning commitments from every country to reduce emissions. They also celebrated their cooperation on the nuclear accord with Iran and said they were both committed to pressing ahead against the North Korean nuclear problem, which has defied solution for more than 20 years.But there was ample evidence, even as Mr. Obama welcomed Mr. Xi with a 21-gun salute and a state dinner on Friday night, that the two nations remain deeply at odds on key issues.Speaking in the Rose Garden, they clashed over China’s reclamation of islands in the South China Sea, which Mr. Xi defiantly defended, suggesting that China’s buildup on artificial islands in the strategic waterway would move ahead and flatly denying that it was militarizing any territory.Mr. Obama said he told Mr. Xi that he had “significant concerns” over the activities, “which makes it harder for countries in the region to resolve disagreements peacefully.” While the United States has no territorial claim in the waters, he added, “we just want to make sure that the rules of the road are upheld.”The Chinese president stuck to his guns, bluntly asserting, “We have the right to uphold our own territorial sovereignty and lawful and legitimate maritime rights and interests.” Mr. Xi said China’s construction activities “do not target or impact any country, and China does not intend to pursue militarization.”The exchange underscored the degree to which Mr. Xi has in many ways confounded Mr. Obama’s hopes and expectations.“As the most powerful leader in China in decades, Mr. Xi presented an opportunity for greater collaboration,” said Bonnie S. Glaser, senior adviser on Asia at the Center for Strategic and International Studies. Instead, he “turned out to be an ultranationalist, bent on achieving the Chinese dream of national rejuvenation even if it meant damaging ties with the U.S. as well as China’s neighbors.”In another point of friction, Mr. Obama said he had deep concerns over human rights in China, describing what sounded like a lecture he had given to Mr. Xi about the issue.“I expressed in candid terms our strong views that preventing journalists, lawyers, NGOs and civil society groups from operating freely, or closing churches or denying ethnic minorities equal treatment, are all problematic in our view, and actually prevent China and its people from realizing its full potential,” Mr. Obama said, using an acronym for nongovernmental organizations, which face strict restrictions under proposed legislation in China.The stern message elicited only a generic response from Mr. Xi, who said democracy and human rights were “the common procedure of mankind,” but then added, “We must recognize that countries have different historical processes and realities, that we need to respect people of all countries in the right to choose their own development independently.”Even the agreement on cybersecurity left room for differences. The United States and China said they would cooperate with requests to investigate cybercrimes and, according to a White House fact sheet, “mitigate malicious cyberactivity emanating from their territory.” But while Mr. Obama said they had agreed on “the principle that governments don’t engage in cyberespionage for commercial gain against companies,” Mr. Xi said nothing of computer-enabled spying, speaking only of “cybercrime,” a narrower formulation.The two countries also embraced a United Nations accord, adopted in July, that commits the signatories not to target one another’s critical infrastructure — such as power plants, cellphone networks and financial transactions — in peacetime. But that leaves open many questions, since there are many definitions of what constitutes critical infrastructure.The morning began with an elaborate White House welcome, complete with cannons reverberating across the South Lawn as a military band played “March of Volunteers,” the anthem of the People’s Republic of China since the 1949 revolution, and “The Star-Spangled Banner.” The two leaders strolled across the grass reviewing neat rows of troops, then stopped to shake hands with crowds of children waving American and Chinese flags, including some who attend Washington Yu Ying Academy, a Chinese immersion school.Later, they announced a “One Million Strong” initiative that aims to have a million American students learning Mandarin by 2020.Both pro- and anti-China protesters were kept a block from the White House throughout the meeting, and the day’s events went off without an incident like the heckling that so angered the Chinese when President George W. Bush hosted Mr. Xi’s predecessor, Hu Jintao, in 2006.